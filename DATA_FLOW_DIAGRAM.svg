<svg width="1400" height="900" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="dataGrad1" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#3B82F6;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#1D4ED8;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="dataGrad2" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#10B981;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#047857;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="dataGrad3" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#F59E0B;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#D97706;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="dataGrad4" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#EF4444;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#DC2626;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="dataGrad5" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#8B5CF6;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#7C3AED;stop-opacity:1" />
    </linearGradient>
  </defs>
  
  <!-- Background -->
  <rect width="1400" height="900" fill="#F9FAFB"/>
  
  <!-- Title -->
  <text x="700" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="26" font-weight="bold" fill="#111827">
    AetherPay 数据流架构图
  </text>
  
  <!-- Phase 1: Data Collection -->
  <g id="phase1">
    <text x="100" y="80" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#374151">
      阶段 1: 数据收集与聚合
    </text>
    
    <!-- External APIs -->
    <rect x="50" y="100" width="120" height="80" rx="8" fill="url(#dataGrad1)" opacity="0.9"/>
    <text x="110" y="125" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">
      外部 API
    </text>
    <text x="110" y="145" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
      Binance
    </text>
    <text x="110" y="160" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
      OKX/Coinbase
    </text>
    <text x="110" y="175" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
      1inch/CoinGecko
    </text>
    
    <!-- Data Collector -->
    <rect x="220" y="100" width="120" height="80" rx="8" fill="url(#dataGrad2)" opacity="0.9"/>
    <text x="280" y="125" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">
      数据收集器
    </text>
    <text x="280" y="145" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
      CCXT 库
    </text>
    <text x="280" y="160" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
      多源聚合
    </text>
    <text x="280" y="175" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
      异常检测
    </text>
    
    <!-- Price Aggregator -->
    <rect x="390" y="100" width="120" height="80" rx="8" fill="url(#dataGrad3)" opacity="0.9"/>
    <text x="450" y="125" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">
      价格聚合器
    </text>
    <text x="450" y="145" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
      加权平均
    </text>
    <text x="450" y="160" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
      置信度评分
    </text>
    <text x="450" y="175" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
      异常值过滤
    </text>
    
    <!-- Data flows -->
    <path d="M 170 140 L 220 140" stroke="#374151" stroke-width="3" fill="none" marker-end="url(#arrow)"/>
    <path d="M 340 140 L 390 140" stroke="#374151" stroke-width="3" fill="none" marker-end="url(#arrow)"/>
    
    <!-- Data labels -->
    <text x="195" y="135" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#6B7280">
      原始价格数据
    </text>
    <text x="365" y="135" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#6B7280">
      清洗后数据
    </text>
  </g>
  
  <!-- Phase 2: Storage & Caching -->
  <g id="phase2">
    <text x="100" y="250" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#374151">
      阶段 2: 存储与缓存
    </text>
    
    <!-- SQLite Database -->
    <rect x="50" y="270" width="120" height="80" rx="8" fill="url(#dataGrad4)" opacity="0.9"/>
    <text x="110" y="295" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">
      SQLite 数据库
    </text>
    <text x="110" y="315" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
      历史价格
    </text>
    <text x="110" y="330" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
      交易记录
    </text>
    <text x="110" y="345" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
      模型训练数据
    </text>
    
    <!-- Redis Cache -->
    <rect x="220" y="270" width="120" height="80" rx="8" fill="url(#dataGrad5)" opacity="0.9"/>
    <text x="280" y="295" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">
      Redis 缓存
    </text>
    <text x="280" y="315" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
      实时价格
    </text>
    <text x="280" y="330" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
      预测结果
    </text>
    <text x="280" y="345" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
      会话状态
    </text>
    
    <!-- Data Processing -->
    <rect x="390" y="270" width="120" height="80" rx="8" fill="url(#dataGrad2)" opacity="0.9"/>
    <text x="450" y="295" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">
      数据处理
    </text>
    <text x="450" y="315" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
      特征提取
    </text>
    <text x="450" y="330" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
      数据标准化
    </text>
    <text x="450" y="345" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
      时间序列处理
    </text>
    
    <!-- Vertical flow from Phase 1 -->
    <path d="M 450 180 L 450 270" stroke="#374151" stroke-width="3" fill="none" marker-end="url(#arrow)"/>
    <text x="460" y="225" font-family="Arial, sans-serif" font-size="9" fill="#6B7280">
      聚合价格数据
    </text>
    
    <!-- Horizontal flows in Phase 2 -->
    <path d="M 170 310 L 220 310" stroke="#374151" stroke-width="2" fill="none" marker-end="url(#arrow)"/>
    <path d="M 340 310 L 390 310" stroke="#374151" stroke-width="2" fill="none" marker-end="url(#arrow)"/>
    
    <!-- Bidirectional flow between SQLite and Redis -->
    <path d="M 110 270 L 110 250 L 280 250 L 280 270" stroke="#6B7280" stroke-width="2" fill="none" marker-end="url(#arrow)"/>
    <path d="M 280 350 L 280 370 L 110 370 L 110 350" stroke="#6B7280" stroke-width="2" fill="none" marker-end="url(#arrow)"/>
  </g>
  
  <!-- Phase 3: AI Processing -->
  <g id="phase3">
    <text x="100" y="450" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#374151">
      阶段 3: AI 模型处理
    </text>
    
    <!-- Feature Engineering -->
    <rect x="50" y="470" width="120" height="80" rx="8" fill="url(#dataGrad1)" opacity="0.9"/>
    <text x="110" y="495" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">
      特征工程
    </text>
    <text x="110" y="515" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
      价格统计
    </text>
    <text x="110" y="530" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
      交易量分析
    </text>
    <text x="110" y="545" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
      波动率计算
    </text>
    
    <!-- LightGBM Model -->
    <rect x="220" y="470" width="120" height="80" rx="8" fill="url(#dataGrad3)" opacity="0.9"/>
    <text x="280" y="495" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">
      LightGBM 模型
    </text>
    <text x="280" y="515" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
      价格预测
    </text>
    <text x="280" y="530" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
      置信度评估
    </text>
    <text x="280" y="545" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
      异常检测
    </text>
    
    <!-- Prediction Output -->
    <rect x="390" y="470" width="120" height="80" rx="8" fill="url(#dataGrad5)" opacity="0.9"/>
    <text x="450" y="495" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">
      预测输出
    </text>
    <text x="450" y="515" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
      预测价格
    </text>
    <text x="450" y="530" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
      置信度分数
    </text>
    <text x="450" y="545" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
      风险评估
    </text>
    
    <!-- Flow from Phase 2 -->
    <path d="M 450 350 L 450 400 L 110 400 L 110 470" stroke="#374151" stroke-width="3" fill="none" marker-end="url(#arrow)"/>
    <text x="280" y="395" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#6B7280">
      处理后特征数据
    </text>
    
    <!-- Horizontal flows in Phase 3 -->
    <path d="M 170 510 L 220 510" stroke="#374151" stroke-width="3" fill="none" marker-end="url(#arrow)"/>
    <path d="M 340 510 L 390 510" stroke="#374151" stroke-width="3" fill="none" marker-end="url(#arrow)"/>
  </g>
  
  <!-- Phase 4: Oracle Server -->
  <g id="phase4">
    <text x="650" y="80" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#374151">
      阶段 4: 预言机服务器
    </text>
    
    <!-- Oracle Server Core -->
    <rect x="600" y="100" width="200" height="120" rx="8" fill="url(#dataGrad2)" opacity="0.9"/>
    <text x="700" y="125" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">
      Oracle Server
    </text>
    <text x="650" y="145" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
      Express.js API
    </text>
    <text x="750" y="145" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
      WebSocket 服务
    </text>
    <text x="650" y="160" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
      多源聚合</text>
    <text x="750" y="160" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
      共识机制
    </text>
    <text x="650" y="175" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
      签名验证
    </text>
    <text x="750" y="175" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
      定时任务
    </text>
    <text x="650" y="190" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
      监控告警
    </text>
    <text x="750" y="190" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
      链上提交
    </text>
    <text x="700" y="205" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
      Node.js + Redis + Ethers.js
    </text>
    
    <!-- Flow from AI Processing -->
    <path d="M 510 510 L 580 510 L 580 160 L 600 160" stroke="#374151" stroke-width="3" fill="none" marker-end="url(#arrow)"/>
    <text x="545" y="505" font-family="Arial, sans-serif" font-size="9" fill="#6B7280">
      AI 预测结果
    </text>
  </g>
  
  <!-- Phase 5: Smart Contracts -->
  <g id="phase5">
    <text x="650" y="280" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#374151">
      阶段 5: 智能合约层
    </text>
    
    <!-- AetherOracleV2 -->
    <rect x="600" y="300" width="140" height="100" rx="8" fill="url(#dataGrad1)" opacity="0.9"/>
    <text x="670" y="325" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">
      AetherOracleV2
    </text>
    <text x="670" y="345" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">
      多预言机共识
    </text>
    <text x="670" y="360" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">
      ECDSA 验证
    </text>
    <text x="670" y="375" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">
      声誉系统
    </text>
    <text x="670" y="390" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">
      置信度阈值
    </text>
    
    <!-- FXPool -->
    <rect x="760" y="300" width="140" height="100" rx="8" fill="url(#dataGrad3)" opacity="0.9"/>
    <text x="830" y="325" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">
      FXPool
    </text>
    <text x="830" y="345" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">
      多稳定币池
    </text>
    <text x="830" y="360" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">
      低滑点交换
    </text>
    <text x="830" y="375" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">
      动态费用
    </text>
    <text x="830" y="390" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">
      MEV 保护
    </text>
    
    <!-- PaymentGateway -->
    <rect x="920" y="300" width="140" height="100" rx="8" fill="url(#dataGrad4)" opacity="0.9"/>
    <text x="990" y="325" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">
      PaymentGateway
    </text>
    <text x="990" y="345" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">
      商户管理
    </text>
    <text x="990" y="360" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">
      订单处理
    </text>
    <text x="990" y="375" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">
      多币种支付
    </text>
    <text x="990" y="390" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">
      自动结算
    </text>
    
    <!-- FXRouter -->
    <rect x="1080" y="300" width="140" height="100" rx="8" fill="url(#dataGrad5)" opacity="0.9"/>
    <text x="1150" y="325" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">
      FXRouter
    </text>
    <text x="1150" y="345" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">
      智能路由
    </text>
    <text x="1150" y="360" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">
      路径优化
    </text>
    <text x="1150" y="375" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">
      多池聚合
    </text>
    <text x="1150" y="390" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">
      Gas 优化
    </text>
    
    <!-- Flow from Oracle Server -->
    <path d="M 700 220 L 700 300" stroke="#374151" stroke-width="3" fill="none" marker-end="url(#arrow)"/>
    <text x="710" y="260" font-family="Arial, sans-serif" font-size="9" fill="#6B7280">
      价格数据上链
    </text>
    
    <!-- Inter-contract flows -->
    <path d="M 740 350 L 760 350" stroke="#374151" stroke-width="2" fill="none" marker-end="url(#arrow)"/>
    <path d="M 900 350 L 920 350" stroke="#374151" stroke-width="2" fill="none" marker-end="url(#arrow)"/>
    <path d="M 1060 350 L 1080 350" stroke="#374151" stroke-width="2" fill="none" marker-end="url(#arrow)"/>
    
    <!-- Oracle to Router -->
    <path d="M 670 400 L 670 420 L 1150 420 L 1150 400" stroke="#6B7280" stroke-width="2" fill="none" marker-end="url(#arrow)"/>
  </g>
  
  <!-- Phase 6: Blockchain & Frontend -->
  <g id="phase6">
    <text x="650" y="500" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#374151">
      阶段 6: 区块链网络与前端交互
    </text>
    
    <!-- Blockchain Network -->
    <rect x="600" y="520" width="200" height="80" rx="8" fill="url(#dataGrad4)" opacity="0.9"/>
    <text x="700" y="545" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">
      区块链网络
    </text>
    <text x="650" y="565" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="white">
      Optimism L2
    </text>
    <text x="750" y="565" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="white">
      低 Gas 费用
    </text>
    <text x="650" y="580" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="white">
      快速确认
    </text>
    <text x="750" y="580" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="white">
      以太坊安全
    </text>
    <text x="700" y="595" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
      Base Sepolia (测试网)
    </text>
    
    <!-- Frontend Application -->
    <rect x="850" y="520" width="200" height="80" rx="8" fill="url(#dataGrad2)" opacity="0.9"/>
    <text x="950" y="545" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">
      前端应用
    </text>
    <text x="900" y="565" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="white">
      Next.js 15
    </text>
    <text x="1000" y="565" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="white">
      TypeScript
    </text>
    <text x="900" y="580" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="white">
      Wagmi/Viem
    </text>
    <text x="1000" y="580" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="white">
      RainbowKit
    </text>
    <text x="950" y="595" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
      Tailwind CSS + Chart.js
    </text>
    
    <!-- External Services -->
    <rect x="1100" y="520" width="200" height="80" rx="8" fill="url(#dataGrad5)" opacity="0.9"/>
    <text x="1200" y="545" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">
      外部服务
    </text>
    <text x="1150" y="565" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="white">
      Supabase
    </text>
    <text x="1250" y="565" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="white">
      IPFS 存储
    </text>
    <text x="1150" y="580" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="white">
      监控服务
    </text>
    <text x="1250" y="580" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="white">
      告警通知
    </text>
    <text x="1200" y="595" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">
      数据库 + 模型存储
    </text>
    
    <!-- Flow from Smart Contracts -->
    <path d="M 830 400 L 830 450 L 700 450 L 700 520" stroke="#374151" stroke-width="3" fill="none" marker-end="url(#arrow)"/>
    <text x="765" y="445" font-family="Arial, sans-serif" font-size="9" fill="#6B7280">
      合约交互
    </text>
    
    <!-- Frontend to Blockchain -->
    <path d="M 850 560 L 800 560" stroke="#374151" stroke-width="2" fill="none" marker-end="url(#arrow)"/>
    <text x="825" y="555" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#6B7280">
      Web3 交互
    </text>
    
    <!-- Frontend to External Services -->
    <path d="M 1050 560 L 1100 560" stroke="#374151" stroke-width="2" fill="none" marker-end="url(#arrow)"/>
    <text x="1075" y="555" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#6B7280">
      API 调用
    </text>
  </g>
  
  <!-- User Interaction -->
  <g id="user">
    <text x="650" y="680" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#374151">
      用户交互层
    </text>
    
    <!-- User/Merchant -->
    <rect x="600" y="700" width="150" height="80" rx="8" fill="url(#dataGrad1)" opacity="0.9"/>
    <text x="675" y="725" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">
      用户/商户
    </text>
    <text x="675" y="745" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="white">
      跨境支付
    </text>
    <text x="675" y="760" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="white">
      多币种结算
    </text>
    <text x="675" y="775" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="white">
      实时汇率查询
    </text>
    
    <!-- Analytics Dashboard -->
    <rect x="800" y="700" width="150" height="80" rx="8" fill="url(#dataGrad3)" opacity="0.9"/>
    <text x="875" y="725" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">
      分析仪表板
    </text>
    <text x="875" y="745" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="white">
      交易统计
    </text>
    <text x="875" y="760" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="white">
      费用分析
    </text>
    <text x="875" y="775" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="white">
      性能监控
    </text>
    
    <!-- Public Goods -->
    <rect x="1000" y="700" width="150" height="80" rx="8" fill="url(#dataGrad5)" opacity="0.9"/>
    <text x="1075" y="725" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">
      公共物品
    </text>
    <text x="1075" y="745" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="white">
      费用捐赠
    </text>
    <text x="1075" y="760" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="white">
      社会影响
    </text>
    <text x="1075" y="775" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="white">
      透明度报告
    </text>
    
    <!-- Flow from Frontend -->
    <path d="M 950 600 L 950 650 L 875 650 L 875 700" stroke="#374151" stroke-width="3" fill="none" marker-end="url(#arrow)"/>
    <text x="912" y="645" font-family="Arial, sans-serif" font-size="9" fill="#6B7280">
      用户界面
    </text>
    
    <!-- Bidirectional flows -->
    <path d="M 750 740 L 800 740" stroke="#374151" stroke-width="2" fill="none" marker-end="url(#arrow)"/>
    <path d="M 950 740 L 1000 740" stroke="#374151" stroke-width="2" fill="none" marker-end="url(#arrow)"/>
  </g>
  
  <!-- Real-time Data Flow Indicators -->
  <g id="realtime-indicators">
    <text x="50" y="850" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#374151">
      实时数据流指标
    </text>
    
    <!-- Frequency indicators -->
    <circle cx="80" cy="870" r="8" fill="#10B981"/>
    <text x="100" y="875" font-family="Arial, sans-serif" font-size="12" fill="#374151">
      高频数据流 (1-5秒): 价格聚合 → 预言机 → 合约
    </text>
    
    <circle cx="400" cy="870" r="8" fill="#F59E0B"/>
    <text x="420" y="875" font-family="Arial, sans-serif" font-size="12" fill="#374151">
      中频数据流 (30秒-5分钟): AI 预测 → 路径优化
    </text>
    
    <circle cx="750" cy="870" r="8" fill="#EF4444"/>
    <text x="770" y="875" font-family="Arial, sans-serif" font-size="12" fill="#374151">
      低频数据流 (小时级): 模型训练 → 历史分析
    </text>
  </g>
  
  <!-- Arrow marker definition -->
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#374151"/>
    </marker>
  </defs>
</svg>